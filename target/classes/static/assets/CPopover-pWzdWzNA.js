import{r as t,_ as z,R as o,b as i,c as G,P as e,q as J,f as K}from"./index-C54D7tq1.js";import{u as Q,r as U,s as W}from"./DefaultLayout-CfhPtfEL.js";import{g as X,e as Y}from"./getRTLPlacement-C712_63l.js";var T=t.forwardRef(function(r,C){var L=r.children,p=r.animation,S=p===void 0?!0:p,M=r.className,H=r.container,O=r.content,d=r.delay,c=d===void 0?0:d,m=r.fallbackPlacements,q=m===void 0?["top","right","bottom","left"]:m,v=r.offset,x=v===void 0?[0,8]:v,y=r.onHide,b=r.onShow,h=r.placement,F=h===void 0?"top":h,_=r.title,g=r.trigger,s=g===void 0?"click":g,f=r.visible,j=z(r,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","title","trigger","visible"]),n=t.useRef(null),l=t.useRef(null),A=Q(C,n),P=t.useRef("popover".concat(Math.floor(Math.random()*1e6))),w=U(),B=w.initPopper,R=w.destroyPopper,k=t.useState(!1),D=k[0],E=k[1],N=t.useState(f),u=N[0],a=N[1],I=typeof c=="number"?{show:c,hide:c}:c,V={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:q}},{name:"offset",options:{offset:x}}],placement:X(F,l.current)};return t.useEffect(function(){a(f)},[f]),t.useEffect(function(){return u&&(E(!0),n.current&&(n.current.classList.remove("fade","show"),R()),setTimeout(function(){l.current&&n.current&&(S&&n.current.classList.add("fade"),B(l.current,n.current,V),n.current.style.removeProperty("display"),n.current.classList.add("show"),b&&b())},I.show)),function(){n.current&&(n.current.classList.remove("show"),y&&y(),Y(function(){n.current&&(n.current.style.display="none"),R(),E(!1)},n.current))}},[u]),o.createElement(o.Fragment,null,o.cloneElement(L,i(i(i(i(i({},u&&{"aria-describedby":P.current}),{ref:l}),(s==="click"||s.includes("click"))&&{onClick:function(){return a(!u)}}),(s==="focus"||s.includes("focus"))&&{onFocus:function(){return a(!0)},onBlur:function(){return a(!1)}}),(s==="hover"||s.includes("hover"))&&{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}})),o.createElement(W,{container:H,portal:!0},D&&o.createElement("div",i({className:G("popover","bs-popover-auto",M),id:P.current,ref:A,role:"tooltip",style:{display:"none"}},j),o.createElement("div",{className:"popover-arrow"}),o.createElement("div",{className:"popover-header"},_),o.createElement("div",{className:"popover-body"},O))))});T.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:J,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),title:e.oneOfType([e.string,e.node]),trigger:K,visible:e.bool};T.displayName="CPopover";export{T as C};
